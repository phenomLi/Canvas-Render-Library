<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Document</title>
<style>
* {
    padding: 0;
    margin: 0;
}

#container {
    width: 100%;
    height: 500px;
    background-color: #eee;
}
</style>
</head>
<body>
    

<div id="container"></div>




<script src="./dist/bundle.js"></script>
<script>


function getRandomColor() {
    return "rgb(" + Math.round(Math.random() * 255) + "," + Math.round(Math.random() * 255) + ',' + Math.round(Math.random() * 10) + ')';
}

const World = new P2.World(document.getElementById("container"), {
    gravity: [0, 0],
    drag: {
        k1: 0,
        k2: 0
    }
});


let b1 = new World.body.Boundary({
        position: 'left'
    }),
    b2 = new World.body.Boundary({
        position: 'right'
    });
    b3 = new World.body.Boundary({
        position: 'bottom'
    }),
    b4 = new World.body.Boundary({
        position: 'top'
    });


World.append(b1);
World.append(b2);
World.append(b3);
World.append(b4);

for(let i = 0; i < 3; i++) {
    let poly_convex = new World.body.Polygon({
        shape: {
            pin: [Math.floor(600*Math.random()), Math.floor(400*Math.random())],
            vex: [[0, 0], [60, 60], [40, 80], [20, 90], [0, 60], [0, 0]],
            color: getRandomColor()
        },
        nature: {
            linearVelocity: [Math.floor(Math.random()*5), Math.floor(Math.random()*5)]
        },
        collided: function(b) {
            this.getShape().attr('color', 'red');
        },
        separated: function() {
            this.getShape().attr('color', 'green');
        }
    });

    let cir = new World.body.Circle({
        shape: {
            pin: [Math.floor(600*Math.random()), Math.floor(400*Math.random())],
            radius: Math.floor(20*Math.random()) + 20,
            color: getRandomColor()
        },
        nature: {
            linearVelocity: [Math.floor(Math.random()*5), Math.floor(Math.random()*5)]
        },
        collided: function(b) {
            this.getShape().attr('color', 'red');
        },
        separated: function() {
            this.getShape().attr('color', 'green');
        }
    });

    let poly_concave = new World.body.Polygon({
        shape: {
            pin: [10 + Math.floor(150*Math.random()), 10 + Math.floor(150*Math.random())],
            vex: [[0, 0], [60, 60], [80, 30], [80, 100], [0, 100], [0, 0]],
            color: getRandomColor()
        },
        nature: {
            linearVelocity: [Math.floor(Math.random()*5), Math.floor(Math.random()*5)]
        },
        collided: function(b) {
            this.getShape().attr('color', 'red');
        },
        separated: function() {
            this.getShape().attr('color', 'green');
        }
    });



    World.append(poly_convex);
    World.append(cir);
    World.append(poly_concave);
}




</script>
</body>
</html>